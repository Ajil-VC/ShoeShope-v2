<%- include("../layouts/adminHeader.ejs") %>

    <!--Aside Here-->
    <%- include("../layouts/adminAside.ejs") %>

        <!--Head with search bar and other options Here-->
        <%- include("../layouts/adminHead.ejs") %>



            <!-- Modal Start here -->
            <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
                aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Crop the Image</h5>
                            <button type="button" id="modal-close-button" class="close" data-dismiss="modal"
                                aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">

                            <!--Here is the cropper-->
                            <!--===================-->

                            <div class="main-container">
                                <div class="img-container" id="imageCroperContainer">
                                    <img id="imageCroper" src="" style="width: 600px;">
                                </div>
                                <!-- <button id="btn-crop">Crop</button> -->
                                <div class="cropped-container">
                                    <img src="" id="output">
                                </div>
                            </div>

                            <!--Cropper ends here-->
                            <!--===================-->




                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary " data-index="" id="btn-crop">Save
                                changes</button>
                        </div>
                    </div>
                </div>
            </div> <!-- Modal Ends here -->


            <section class="content-main">
                <div class="row">
                    <div class="col-9">
                        <div class="content-header">
                            <h2 class="content-title">Add New Product</h2>
                            <div>

                                <a href="/admin/productslist"
                                    class="btn btn-light rounded font-sm mr-5 text-body hover-up">Cancel</a>
                                <button class="btn btn-md rounded font-sm hover-up"
                                    id="publishBtnForAddProduct">Publish</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card mb-4">
                            <div class="card-header">
                                <h4>Basic</h4>
                            </div>
                            <div class="card-body">



                                <!-- Check this part Im taking of method='post inorderto submit form from frontend'-->
                                <!-- Check this part Im taking of method='post inorderto submit form from frontend'-->
                                <form id="formForAddNewProduct" action="/admin/productslist/add_new_product"
                                    enctype='multipart/form-data'>
                                    <div class="mb-4">
                                        <label for="product_name" class="form-label">Product Name</label>
                                        <input type="text" placeholder="Type here" class="form-control"
                                            id="product_name" name="productName">
                                        <span class="d-none text-danger" style="font-size: smaller;"
                                            id="product_name-error"></span>
                                    </div>
                                    <div class="mb-4">
                                        <label class="form-label">Description</label>
                                        <textarea placeholder="Type here" class="form-control" rows="4"
                                            id="descriptionOfProduct" name="description"></textarea>
                                        <span class="text-danger" style="font-size: smaller;"
                                            id="descriptionOfProduct-error"></span>
                                    </div>


                                    <!-- Button trigger modal -->
                                    <button type="button" class="btn btn-primary" hidden id="openModalBtn"
                                        style="width: 100%;" data-toggle="modal"
                                        data-target="#exampleModalCenter">Launch demo modal</button>


                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="mb-4">
                                                <label class="form-label">Regular price</label>
                                                <div class="row gx-2">
                                                    <input placeholder="₹" name="regularPrice" id="regularPrice"
                                                        type="text" class="form-control">
                                                    <span class="text-danger" style="font-size: smaller;"
                                                        id="regularPrice-error"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="mb-4">
                                                <label class="form-label">Sale price</label>
                                                <input placeholder="₹" name="salePrice" id="salePrice" type="text"
                                                    class="form-control">
                                                <span class="text-danger" style="font-size: smaller;"
                                                    id="salePrice-error"></span>
                                            </div>
                                        </div>



                                        <div class="col-lg-6">
                                            <label class="form-label">Target Group</label>
                                            <select class="form-select" name="targetGroup" id="targetGroup">

                                                <option selected value="" disabled> Select Group </option>
                                                <option> Men </option>
                                                <option> Women </option>
                                                <option> Kids </option>

                                            </select>
                                            <span class="text-danger" style="font-size: smaller;"
                                                id="targetGroup-error"></span>
                                        </div>

                                    </div>


                                    <div class="row mt-3 mb-3">
                                        <h6 class="mb-2">Sizes & Stock</h6>

                                        <!-- S -->
                                        <div class="col-lg-3 col-md-6 mb-2 d-flex align-items-center">
                                            <span class="badge bg-secondary me-2">S</span>
                                            <input type="hidden" name="sizes[0][size]" value="S" />
                                            <input type="number" class="form-control form-control-sm"
                                                name="sizes[0][quantity]" placeholder="Qty" min="0" />
                                        </div>

                                        <!-- M -->
                                        <div class="col-lg-3 col-md-6 mb-2 d-flex align-items-center">
                                            <span class="badge bg-secondary me-2">M</span>
                                            <input type="hidden" name="sizes[1][size]" value="M" />
                                            <input type="number" class="form-control form-control-sm"
                                                name="sizes[1][quantity]" placeholder="Qty" min="0" />
                                        </div>

                                        <!-- L -->
                                        <div class="col-lg-3 col-md-6 mb-2 d-flex align-items-center">
                                            <span class="badge bg-secondary me-2">L</span>
                                            <input type="hidden" name="sizes[2][size]" value="L" />
                                            <input type="number" class="form-control form-control-sm"
                                                name="sizes[2][quantity]" placeholder="Qty" min="0" />
                                        </div>

                                        <!-- XL -->
                                        <div class="col-lg-3 col-md-6 mb-2 d-flex align-items-center">
                                            <span class="badge bg-secondary me-2">XL</span>
                                            <input type="hidden" name="sizes[3][size]" value="XL" />
                                            <input type="number" class="form-control form-control-sm"
                                                name="sizes[3][quantity]" placeholder="Qty" min="0" />
                                        </div>
                                    </div>


                                </form>



                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h4>Classification</h4>
                                    </div>
                                    <div class="card-body">
                                        <div class="row gx-2">
                                            <div class="col-sm-6 mb-3">
                                                <label class="form-label">Category</label>
                                                <select class="form-select" name="category" id="category">

                                                    <option disabled value="" selected>Select Category </option>
                                                    <% for(let i=0 ; i < categories.length ; i++){ %>

                                                        <option>
                                                            <%=categories[i].name %>
                                                        </option>

                                                        <% } %>


                                                </select>
                                                <span class="text-danger" style="font-size: smaller;"
                                                    id="category-error"></span>
                                            </div>
                                            <div class="col-sm-6 mb-3">
                                                <label class="form-label">Brand</label>
                                                <select class="form-select" name="brand" id="brand">

                                                    <option disabled value="" selected>Select Brand </option>
                                                    <% for(let i=0 ; i < brand.length ; i++){ %>

                                                        <option>
                                                            <%= brand[i].name %>
                                                        </option>

                                                        <% } %>

                                                </select>
                                                <span class="text-danger" style="font-size: smaller;"
                                                    id="brand-error"></span>
                                            </div>

                                        </div> <!-- row.// -->
                                    </div>
                                </div> <!-- card end// -->



                            </div>
                        </div> <!-- card end// -->

                    </div>
                    <div class="col-lg-6">

                        <div class="adImUploadArea">
                            <label for="adImFileInput" class="adImDropZone">
                                <span id="img-adding-area">Add product images here,
                                    Only image files(jpeg,png,webp) are allowed</span>
                            </label>
                            <input type="file" id="adImFileInput" class="adImHiddenInput" multiple
                                accept="image/jpeg, image/png">
                        </div>
                        <div id="adImPreviewContainer" class="adImPreviewContainer"></div>

                    </div>
                </div>
            </section> <!-- content-main end// -->



            <%- include("../layouts/adminFooter.ejs") %>